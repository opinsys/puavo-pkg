#!/bin/bash

set -eu

on_exit()
{
    local exitval=$?

    if [ -n "${tmpfile}" ]; then
        rm -f "${tmpfile}"
    fi

    exit $exitval
}

tmpfile=
trap on_exit EXIT
tmpfile=$(mktemp)

cat <<EOF >"${tmpfile}"
CHOSEN_FEATURE_LIST=Applica
CHOSEN_INSTALL_FEATURE_LIST=Applica
CHOSEN_INSTALL_SET=Typical
USER_INSTALL_DIR=$2
USER_SHORTCUTS=Do Not Install

#Install
#-------
-fileOverwrite_$2/UninstallerData/Change CmapTools Installation.lax=Yes
-fileOverwrite_$2/classes/core.jar=Yes
-fileOverwrite_$2/classes/nlk.jar=Yes
-fileOverwrite_$2/classes/slp.jar=Yes
-fileOverwrite_$2/classes/crimson.jar=Yes
-fileOverwrite_$2/classes/updater.jar=Yes
-fileOverwrite_$2/classes/wordnetClient.jar=Yes
-fileOverwrite_$2/classes/wsServer-client.jar=Yes
-fileOverwrite_$2/classes/AppleStubs.jar=Yes
-fileOverwrite_$2/classes/activation.jar=Yes
-fileOverwrite_$2/classes/winlaf-0.5.jar=Yes
-fileOverwrite_$2/classes/JimiProClasses.zip=Yes
-fileOverwrite_$2/classes/jmyspell-1.0.0-beta1.jar=Yes
-fileOverwrite_$2/classes/mail.jar=Yes
-fileOverwrite_$2/classes/xercesImpl.jar=Yes
-fileOverwrite_$2/classes/xml-apis.jar=Yes
-fileOverwrite_$2/classes/tm-extractors-0.4.jar=Yes
-fileOverwrite_$2/classes/lucene-core-2.4-dev.jar=Yes
-fileOverwrite_$2/classes/PDFBox-0.7.3-dev.jar=Yes
-fileOverwrite_$2/classes/FontBox-0.1.0-dev.jar=Yes
-fileOverwrite_$2/classes/log4j-1.2.12.jar=Yes
-fileOverwrite_$2/classes/symantec.jar=Yes
-fileOverwrite_$2/classes/jniregistry.jar=Yes
-fileOverwrite_$2/classes/socks.jar=Yes
-fileOverwrite_$2/classes/concurrent.jar=Yes
-fileOverwrite_$2/classes/poi-scratchpad-2.5.1-final-20040804.jar=Yes
-fileOverwrite_$2/classes/poi-2.5.1-final-20040804.jar=Yes
-fileOverwrite_$2/classes/poi-contrib-2.5.1-final-20040804.jar=Yes
-fileOverwrite_$2/classes/commons-digester.jar=Yes
-fileOverwrite_$2/classes/commons-collections.jar=Yes
-fileOverwrite_$2/classes/commons-beanutils.jar=Yes
-fileOverwrite_$2/classes/commons-beanutils-bean-collections.jar=Yes
-fileOverwrite_$2/classes/commons-beanutils-core.jar=Yes
-fileOverwrite_$2/classes/commons-logging.jar=Yes
-fileOverwrite_$2/classes/commons-io-2.2.jar=Yes
-fileOverwrite_$2/classes/commons-codec-1.6.jar=Yes
-fileOverwrite_$2/classes/ldapbp.jar=Yes
-fileOverwrite_$2/classes/mscrypto.jar=Yes
-fileOverwrite_$2/classes/wstx-asl-2.9.3.jar=Yes
-fileOverwrite_$2/classes/stax-api-1.0.jar=Yes
-fileOverwrite_$2/classes/axiom-impl.jar=Yes
-fileOverwrite_$2/classes/axiom-api.jar=Yes
-fileOverwrite_$2/classes/openide-lookup-1.9-patched-1.0.jar=Yes
-fileOverwrite_$2/classes/jdom-1.0.jar=Yes
-fileOverwrite_$2/classes/jas-plotter-2.2.jar=Yes
-fileOverwrite_$2/classes/freehep-xml-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-util-2.0.2.jar=Yes
-fileOverwrite_$2/classes/freehep-swing-2.0.3.jar=Yes
-fileOverwrite_$2/classes/freehep-io-2.0.2.jar=Yes
-fileOverwrite_$2/classes/freehep-graphicsio-tests-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-graphicsio-swf-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-graphicsio-svg-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-graphicsio-ps-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-graphicsio-pdf-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-graphicsio-java-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-graphicsio-emf-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-graphicsio-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-graphics2d-2.1.1.jar=Yes
-fileOverwrite_$2/classes/freehep-export-2.1.1.jar=Yes
-fileOverwrite_$2/lib/libtiff.so.3=Yes
-fileOverwrite_$2/lib/libMagickWand.so.1=Yes
-fileOverwrite_$2/lib/libMagickCore.so.1=Yes
-fileOverwrite_$2/lib/libjpeg.so.62=Yes
-fileOverwrite_$2/lib/libgomp.so.1=Yes
-fileOverwrite_$2/lib/libfreetype.so.6=Yes
-fileOverwrite_$2/lib/pkgconfig/libavcodec.pc=Yes
-fileOverwrite_$2/lib/pkgconfig/libavdevice.pc=Yes
-fileOverwrite_$2/lib/pkgconfig/libavfilter.pc=Yes
-fileOverwrite_$2/lib/pkgconfig/libavformat.pc=Yes
-fileOverwrite_$2/lib/pkgconfig/libavutil.pc=Yes
-fileOverwrite_$2/lib/pkgconfig/libswresample.pc=Yes
-fileOverwrite_$2/lib/pkgconfig/libswscale.pc=Yes
-fileOverwrite_$2/lib/libswscale.a=Yes
-fileOverwrite_$2/lib/libswresample.a=Yes
-fileOverwrite_$2/lib/libavutil.a=Yes
-fileOverwrite_$2/lib/libavformat.a=Yes
-fileOverwrite_$2/lib/libavfilter.a=Yes
-fileOverwrite_$2/lib/libavdevice.a=Yes
-fileOverwrite_$2/lib/libavcodec.a=Yes
-fileOverwrite_$2/share/ImageMagick-6.4.2/ChangeLog=Yes
-fileOverwrite_$2/share/ImageMagick-6.4.2/LICENSE=Yes
-fileOverwrite_$2/share/ImageMagick-6.4.2/NEWS.txt=Yes
-fileOverwrite_$2/bin/CmapTools.lax=Yes
-fileOverwrite_$2/bin/modules.xml=Yes
-fileOverwrite_$2/bin/places.txt=Yes
-fileOverwrite_$2/bin/Updater.lax=Yes
-fileOverwrite_$2/bin/cmaptools.cfg=Yes
-fileOverwrite_$2/bin/DefaultStyleSheet.cxl=Yes
-fileOverwrite_$2/bin/readme.txt=Yes
-fileOverwrite_$2/bin/slp.conf=Yes
-fileOverwrite_$2/bin/cmapclientservices.jar=Yes
-fileOverwrite_$2/bin/imgman=Yes
-fileOverwrite_$2/bin/ffmpeg=Yes
-fileOverwrite_$2/licenses/CmapTools-license.txt=Yes
-fileOverwrite_$2/licenses/jakarta-log4j-license.txt=Yes
-fileOverwrite_$2/licenses/JAF-v1.0.1-license.txt=Yes
-fileOverwrite_$2/licenses/tm-extractors-license.txt=Yes
-fileOverwrite_$2/licenses/PDFBox-license.txt=Yes
-fileOverwrite_$2/licenses/lucene-license.txt=Yes
-fileOverwrite_$2/licenses/JavaMailv1.2-license.txt=Yes
-fileOverwrite_$2/licenses/jakarta-poi-license.txt=Yes
-fileOverwrite_$2/licenses/winlaf-license.txt=Yes
-fileOverwrite_$2/help/images/a.jpg=Yes
-fileOverwrite_$2/help/images/Alt.jpg=Yes
-fileOverwrite_$2/help/images/Alt_Option_mac.jpg=Yes
-fileOverwrite_$2/help/images/Arrowheads_always.gif=Yes
-fileOverwrite_$2/help/images/Arrowheads_Bidirectional.gif=Yes
-fileOverwrite_$2/help/images/Arrowheads_none.gif=Yes
-fileOverwrite_$2/help/images/Arrowheads_OneWay.gif=Yes
-fileOverwrite_$2/help/images/Arrowheads_Reverse.gif=Yes
-fileOverwrite_$2/help/images/Arrowheads_toConcept.gif=Yes
-fileOverwrite_$2/help/images/Arrowheads_up.gif=Yes
-fileOverwrite_$2/help/images/a_mac.jpg=Yes
-fileOverwrite_$2/help/images/BlueLinePixel.gif=Yes
-fileOverwrite_$2/help/images/bullet.gif=Yes
-fileOverwrite_$2/help/images/bullet.png=Yes
-fileOverwrite_$2/help/images/c.jpg=Yes
-fileOverwrite_$2/help/images/Command_mac.jpg=Yes
-fileOverwrite_$2/help/images/Control_mac.jpg=Yes
-fileOverwrite_$2/help/images/Ctrl.jpg=Yes
-fileOverwrite_$2/help/images/c_mac.jpg=Yes
-fileOverwrite_$2/help/images/Delete.jpg=Yes
-fileOverwrite_$2/help/images/Delete_mac.jpg=Yes
-fileOverwrite_$2/help/images/Enter.jpg=Yes
-fileOverwrite_$2/help/images/f.jpg=Yes
-fileOverwrite_$2/help/images/f2.jpg=Yes
-fileOverwrite_$2/help/images/f2_mac.jpg=Yes
-fileOverwrite_$2/help/images/f4.jpg=Yes
-fileOverwrite_$2/help/images/f4_mac.jpg=Yes
-fileOverwrite_$2/help/images/f5.jpg=Yes
-fileOverwrite_$2/help/images/f5_mac.jpg=Yes
-fileOverwrite_$2/help/images/f_mac.jpg=Yes
-fileOverwrite_$2/help/images/g.jpg=Yes
-fileOverwrite_$2/help/images/g_mac.jpg=Yes
-fileOverwrite_$2/help/images/hrule.gif=Yes
-fileOverwrite_$2/help/images/h_mac.jpg=Yes
-fileOverwrite_$2/help/images/l.jpg=Yes
-fileOverwrite_$2/help/images/LinuxLogo.gif=Yes
-fileOverwrite_$2/help/images/L_mac.jpg=Yes
-fileOverwrite_$2/help/images/m.jpg=Yes
-fileOverwrite_$2/help/images/MacOSXLogo.gif=Yes
-fileOverwrite_$2/help/images/Menu_GettingStarted.png=Yes
-fileOverwrite_$2/help/images/m_mac.jpg=Yes
-fileOverwrite_$2/help/images/n.jpg=Yes
-fileOverwrite_$2/help/images/n_mac.jpg=Yes
-fileOverwrite_$2/help/images/p.jpg=Yes
-fileOverwrite_$2/help/images/PageBackground.gif=Yes
-fileOverwrite_$2/help/images/plus.jpg=Yes
-fileOverwrite_$2/help/images/p_mac.jpg=Yes
-fileOverwrite_$2/help/images/q.jpg=Yes
-fileOverwrite_$2/help/images/q_mac.jpg=Yes
-fileOverwrite_$2/help/images/r.jpg=Yes
-fileOverwrite_$2/help/images/Return_mac.jpg=Yes
-fileOverwrite_$2/help/images/r_mac.jpg=Yes
-fileOverwrite_$2/help/images/s.jpg=Yes
-fileOverwrite_$2/help/images/]}_mac.jpg=Yes
-fileOverwrite_$2/help/images/]}.jpg=Yes
-fileOverwrite_$2/help/images/[{_mac.jpg=Yes
-fileOverwrite_$2/help/images/[{.jpg=Yes
-fileOverwrite_$2/help/images/Shift.jpg=Yes
-fileOverwrite_$2/help/images/Shift_mac.jpg=Yes
-fileOverwrite_$2/help/images/SolarisLogo.gif=Yes
-fileOverwrite_$2/help/images/spacer.gif=Yes
-fileOverwrite_$2/help/images/splash.gif=Yes
-fileOverwrite_$2/help/images/stubkey.jpg=Yes
-fileOverwrite_$2/help/images/s_mac.jpg=Yes
-fileOverwrite_$2/help/images/t.jpg=Yes
-fileOverwrite_$2/help/images/TutorialHeader.gif=Yes
-fileOverwrite_$2/help/images/t_mac.jpg=Yes
-fileOverwrite_$2/help/images/v.jpg=Yes
-fileOverwrite_$2/help/images/v_mac.jpg=Yes
-fileOverwrite_$2/help/images/w.jpg=Yes
-fileOverwrite_$2/help/images/WindowsLogo.gif=Yes
-fileOverwrite_$2/help/images/w_mac.jpg=Yes
-fileOverwrite_$2/help/images/x.jpg=Yes
-fileOverwrite_$2/help/images/x_mac.jpg=Yes
-fileOverwrite_$2/help/images/y.jpg=Yes
-fileOverwrite_$2/help/images/y_mac.jpg=Yes
-fileOverwrite_$2/help/images/z.jpg=Yes
-fileOverwrite_$2/help/images/z_mac.jpg=Yes
-fileOverwrite_$2/help/AddAnnotation.htm=Yes
-fileOverwrite_$2/help/AddArrows.htm=Yes
-fileOverwrite_$2/help/AddConcept.htm=Yes
-fileOverwrite_$2/help/AddPlace.htm=Yes
-fileOverwrite_$2/help/BetweenCmaps.htm=Yes
-fileOverwrite_$2/help/blueline.htm=Yes
-fileOverwrite_$2/help/ChangeBackground.htm=Yes
-fileOverwrite_$2/help/ChangeColors.htm=Yes
-fileOverwrite_$2/help/ChangeFonts.htm=Yes
-fileOverwrite_$2/help/ChangeLanguage.htm=Yes
-fileOverwrite_$2/help/CmapRecorder.htm=Yes
-fileOverwrite_$2/help/Collaboration.htm=Yes
-fileOverwrite_$2/help/Compare.htm=Yes
-fileOverwrite_$2/help/CreateCmap.htm=Yes
-fileOverwrite_$2/help/CreateFolder.htm=Yes
-fileOverwrite_$2/help/CreateLink_01.htm=Yes
-fileOverwrite_$2/help/CreateLink_02.htm=Yes
-fileOverwrite_$2/help/CustomStyles.htm=Yes
-fileOverwrite_$2/help/Dictionary.htm=Yes
-fileOverwrite_$2/help/Discussion.htm=Yes
-fileOverwrite_$2/help/DragResource.htm=Yes
-fileOverwrite_$2/help/ExportImage.htm=Yes
-fileOverwrite_$2/help/ExportWebPage.htm=Yes
-fileOverwrite_$2/help/Find.htm=Yes
-fileOverwrite_$2/help/FixLinks.htm=Yes
-fileOverwrite_$2/help/header.htm=Yes
-fileOverwrite_$2/help/ImportResource.htm=Yes
-fileOverwrite_$2/help/index.html=Yes
-fileOverwrite_$2/help/indexinfo.txt=Yes
-fileOverwrite_$2/help/Layout.htm=Yes
-fileOverwrite_$2/help/LinkResources.htm=Yes
-fileOverwrite_$2/help/ListView.htm=Yes
-fileOverwrite_$2/help/ManageResLinks.htm=Yes
-fileOverwrite_$2/help/menu.htm=Yes
-fileOverwrite_$2/help/ModifyLinks.htm=Yes
-fileOverwrite_$2/help/NestedMerged.htm=Yes
-fileOverwrite_$2/help/OpenCmap.htm=Yes
-fileOverwrite_$2/help/Permissions.htm=Yes
-fileOverwrite_$2/help/Places.htm=Yes
-fileOverwrite_$2/help/Presentation.htm=Yes
-fileOverwrite_$2/help/Printing.htm=Yes
-fileOverwrite_$2/help/SaveCmap.htm=Yes
-fileOverwrite_$2/help/SearchPlaces.htm=Yes
-fileOverwrite_$2/help/SearchWeb.htm=Yes
-fileOverwrite_$2/help/SendEmail.htm=Yes
-fileOverwrite_$2/help/Shortcuts.htm=Yes
-fileOverwrite_$2/help/Soups.htm=Yes
-fileOverwrite_$2/help/Spelling.htm=Yes
-fileOverwrite_$2/help/splash.htm=Yes
-fileOverwrite_$2/help/Suggestions.htm=Yes
-fileOverwrite_$2/help/UsingCmapTools.htm=Yes
-fileOverwrite_$2/help/ViewCmapWebPage.htm=Yes
-fileOverwrite_$2/help/CmapHelp_es/index.html=Yes
-fileOverwrite_$2/help/CmapHelp_fi/index.html=Yes
EOF

chmod +x "$1"
"${1}" -f "${tmpfile}" -i silent || true
